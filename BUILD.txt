Headwind MDM: a corporate launcher for Android
==============================================
=    BUILD INSTRUCTIONS FOR THE WEB PANEL    =
==============================================

This instruction has been tested on Ubuntu Linux 22.04 LTS/24.04 LTS.

IMPORTANT: This project requires Java 21+ and Tomcat 10.1+ (Jakarta EE 9+).

1. Install required software

For Ubuntu Linux 24.04 LTS (recommended):
# sudo apt install git aapt tomcat10 maven postgresql openjdk-21-jdk

Set Java 21 as default:
# sudo update-alternatives --config java
(select the Java 21 option)

2. Verify Java version

# java -version
(should show version 21 or higher)

# mvn -version
(should show Java 21 under "Java version")

3. Make sure Tomcat 10.1+ is running

curl localhost:8080
(if you get "Failed to connect" error, fix the installation issue)

4. Clone the repository

# git clone https://github.com/h-mdm/hmdm-server
# cd hmdm-server

5. If you are planning to run or debug Headwind MDM in IDE, create the properties
file from the sample

# cp server/build.properties.example server/build.properties

and update the contents of the server/build.properties file.

6. Build the source code

# mvn install

7. Create the PostgreSQL database and user

# sudo su postgres
# psql
postgres=# CREATE USER hmdm WITH PASSWORD 'topsecret';
postgres=# CREATE DATABASE hmdm WITH OWNER=hmdm;
postgres=# \q

8. (Upgrading from Java 8/11 only) Clear Liquibase checksums before running the installer:

# sudo su postgres
# psql hmdm
hmdm=# UPDATE DATABASECHANGELOG SET MD5SUM = NULL;
hmdm=# \q

This is required because Liquibase 4.x uses a different checksum algorithm.
Skip this step for fresh installations.

9. Run the installer script (as root)

sudo ./hmdm_install.sh

10. On success, the installer script provides you with the URL. Open Headwind MDM in browser.
